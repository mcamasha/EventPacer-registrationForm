(this["webpackJsonpevent-pacer-registration-form"]=this["webpackJsonpevent-pacer-registration-form"]||[]).push([[0],{108:function(e){e.exports=JSON.parse('{"data":{"result":"Ok","smsSessionParameters":{"remainCheckCount":4,"codeExpiresAfterSec":599,"nextSendAfterSec":1919},"traceId":"3c331e6a-3b59-4572-a648-cafa054b085e"},"status":200,"statusText":"","headers":{},"config":{}}')},109:function(e){e.exports=JSON.parse('{"newUserCreated":true,"tokens":{"accessToken":"sfash32hj423jbfsdf","refreshToken":"afasfwiohr32k424"}}')},139:function(e,t,a){e.exports=a(176)},175:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(11),o=a(226),i=a(227),l=a(63),c=a(5),d=a(223);const m=({className:e,children:t,onClick:a})=>r.a.createElement(d.a,{onClick:a,className:e,color:"inherit"},t);var h=a(12);function u(){return!!localStorage.getItem("accessToken")}var p=a(247);var g=a(58),S=a.n(g),E=a(81);const C={vertical:"top",horizontal:"right"};let b,v;!function(e){e.INVALID_PHONE_NUMBER="InvalidPhoneNumber",e.OK="Ok",e.WAIT_BEFORE_SEND="WaitBeforeSend"}(b||(b={})),function(e){e.NEW_CODE_REQUIRED="NewCodeRequired",e.INVALID_CODE="InvalidCode"}(v||(v={}));class f{constructor(e,t,a){this.service=e,this.enqueueSnackbar=t,this.history=a}sendRequestToGetSMSCode(e){var t=this;return Object(E.a)(S.a.mark((function a(){var n,r,s,o,i,l,c;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.service.sendRequestToGetSMSCode(e);case 3:n=a.sent,r=null===n||void 0===n?void 0:n.data,a.t0=null===r||void 0===r?void 0:r.result,a.next=a.t0===b.OK?8:a.t0===b.INVALID_PHONE_NUMBER?10:a.t0===b.WAIT_BEFORE_SEND?12:17;break;case 8:return t.enqueueSnackbar("\u0421\u041c\u0421 \u043a\u043e\u0434 \u0431\u044b\u043b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d.",{anchorOrigin:C,variant:"success"}),a.abrupt("return",Promise.resolve(r));case 10:return t.enqueueSnackbar("\u0423\u043a\u0430\u0437\u0430\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430.",{anchorOrigin:C,variant:"error"}),a.abrupt("return",Promise.reject());case 12:return s=r.smsSessionParameters.nextSendAfterSec,o=Math.floor(s/60),i=s%60,t.enqueueSnackbar("\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u0430\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0421\u041c\u0421-\u043a\u043e\u0434\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 ".concat(o?"".concat(o," \u043c\u0438\u043d\u0443\u0442 \u0438"):""," ").concat(i," \u0441\u0435\u043a\u0443\u043d\u0434"),{anchorOrigin:C,variant:"warning"}),a.abrupt("return",Promise.reject());case 17:return t.enqueueSnackbar("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430",{anchorOrigin:C,variant:"error"}),a.abrupt("return",Promise.reject());case 19:a.next=25;break;case 21:a.prev=21,a.t1=a.catch(0),(c=null===a.t1||void 0===a.t1||null===(l=a.t1.response)||void 0===l?void 0:l.data)&&t.enqueueSnackbar(c,{anchorOrigin:C,variant:"error"});case 25:case"end":return a.stop()}}),a,null,[[0,21]])})))()}registrationUser(e,t){var a=this;return Object(E.a)(S.a.mark((function n(){var r,s,o;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.service.registrationUser(e,t);case 3:return r=n.sent,localStorage.setItem("accessToken",r.data.tokens.accessToken),localStorage.setItem("refreshToken",r.data.tokens.refreshToken),n.abrupt("return",Promise.resolve(r.data));case 9:n.prev=9,n.t0=n.catch(0),o=null===n.t0||void 0===n.t0||null===(s=n.t0.response)||void 0===s?void 0:s.data,n.t1=null===o||void 0===o?void 0:o.result,n.next=n.t1===v.NEW_CODE_REQUIRED?15:n.t1===v.INVALID_CODE?17:19;break;case 15:return a.enqueueSnackbar("\u0412\u0432\u0435\u0434\u0451\u043d\u044b\u0439 SMS-\u043a\u043e\u0434 \u0431\u043e\u043b\u0435\u0435 \u043d\u0435\u0430\u043a\u0442\u0438\u0432\u0435\u043d. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439.",{anchorOrigin:C,variant:"error"}),n.abrupt("break",20);case 17:return a.enqueueSnackbar("\u0412\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0439 SMS-\u043a\u043e\u0434 \u043d\u0435\u0432\u0435\u0440\u0435\u043d.",{anchorOrigin:C,variant:"error"}),n.abrupt("break",20);case 19:a.enqueueSnackbar("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430",{anchorOrigin:C,variant:"error"});case 20:return n.abrupt("return",Promise.reject());case 21:case"end":return n.stop()}}),n,null,[[0,9]])})))()}exit(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),this.history.push("/")}}var x=a(82),N=a.n(x);const M="https://cors-anywhere.herokuapp.com/https://eventpacerstage.azurewebsites.net/api";a(108),a(109);class T{sendRequestToGetSMSCode(e){return N.a.post("".concat(M,"/auth/requestCode?phone=").concat(e))}registrationUser(e,t){return N.a.post("".concat(M,"/auth/login?phone=").concat(e,"&code=").concat(t))}}var O=a(53);class I extends n.Component{constructor(...e){super(...e),this.actions=new f(new T,O.noop,this.props.history),this.handleExitButtonClick=()=>{this.actions.exit()},this.handleRegistrationtButtonClick=()=>{this.props.history.push("/registration")}}render(){const e=this.props.classes,t=u();return n.createElement(o.a,{position:"static"},n.createElement(i.a,null,n.createElement(l.a,{variant:"h6",className:e.title},"Eventpacer"),!t&&n.createElement(m,{onClick:this.handleRegistrationtButtonClick},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),t&&n.createElement(m,{onClick:this.handleExitButtonClick},"\u0412\u044b\u0439\u0442\u0438")))}}const w=Object(h.f)(I);var k=Object(c.a)(e=>Object(p.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},linkItem:{textDecoration:"none",color:"inherit"}}),{withTheme:!0})(w),R=a(55),y=a(228),A=a(245),B=a(86),P=a(246),L=a(237);const F=e=>{const t=e.children,a=e.selectedTab,r=e.index;return n.createElement("div",{role:"tabpanel",hidden:a!==r},a===r&&n.createElement(A.a,{p:3},n.createElement(l.a,null,t)))};var q=a(49),j=a.n(q);const D=({classes:e,onNextButtonClick:t})=>n.createElement(y.a,{maxWidth:"md",className:e.container},n.createElement(A.a,null,n.createElement(l.a,{className:e.welcomeHeader,variant:"h5"},"\u0414\u043e\u0431\u0440\u043e \u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!")),n.createElement(A.a,{className:e.welcomeBody},n.createElement(A.a,null,n.createElement(l.a,{variant:"body1",className:e.welcomeText},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quos blanditiis tenetur unde suscipit, quam beatae rerum inventore consectetur.")),n.createElement(A.a,null,n.createElement(l.a,{variant:"body1",className:e.welcomeText},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quos blanditiis tenetur unde suscipit, quam beatae rerum inventore consectetur."))),n.createElement(A.a,null,n.createElement(l.a,{variant:"body1",className:e.welcomeMainText},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deleniti quod sapiente quo aspernatur reprehenderit praesentium. Voluptatum excepturi dolorum, recusandae voluptas perspiciatis tenetur aperiam accusantium tempore, repellendus et aut expedita quaerat. Voluptatum excepturi dolorum, recusandae voluptas perspiciatis tenetur aperiam accusantium tempore, repellendus et aut expedita quaerat. Voluptatum excepturi dolorum, recusandae voluptas perspiciatis tenetur aperiam accusantium tempore, repellendus et aut expedita quaerat. Voluptatum excepturi dolorum, recusandae voluptas perspiciatis tenetur aperiam accusantium tempore, repellendus et aut expedita quaerat.")),n.createElement(A.a,{className:e.sectionFooter},n.createElement(d.a,{onClick:t,variant:"contained",color:"secondary",endIcon:n.createElement(j.a,null)},"\u0414\u0430\u043b\u0435\u0435")));var W=a(232),V=a(122);class _ extends n.Component{constructor(...e){super(...e),this.getLogoAddedMessage=e=>"\u0424\u0430\u0439\u043b ".concat(e," \u0431\u044b\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d."),this.handleChangeFile=e=>{this.props.onChange({logo:e})},this.handleChangeName=e=>{this.props.onChange({name:e.target.value})},this.handleChangeDescription=e=>{this.props.onChange({description:e.target.value})},this.handleChangeSite=e=>{this.props.onChange({site:e.target.value})}}render(){const e=this.props,t=e.classes,a=e.onNextButtonClick,r=e.form,s=r.name,o=r.description,i=r.site,l=(0,e.isErrorVisible)("name")&&!s;return n.createElement(y.a,{maxWidth:"md",className:t.container},n.createElement(A.a,{className:t.generalInfoFieldsContainer},n.createElement(A.a,{className:t.formColomn},n.createElement(A.a,{className:t.formRow},n.createElement(V.a,{dropzoneText:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043b",filesLimit:1,maxFileSize:5e6,acceptedFiles:["image/jpeg","image/png","image/bmp"],onChange:this.handleChangeFile,getFileAddedMessage:this.getLogoAddedMessage,showPreviews:!0,showPreviewsInDropzone:!1,previewGridClasses:{container:t.generalInfoPreviewLogoContainer,item:t.generalInfoPreviewItemContainer},previewText:"",dropzoneParagraphClass:t.generalInfoDropzoneText,classes:{root:t.generalInfoDropZoneLogo,icon:t.generalInfoDropZoneLogoIcon}}))),n.createElement(A.a,{className:t.formColomn},n.createElement(A.a,{className:t.formRow},n.createElement(W.a,{label:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",value:s,fullWidth:!0,error:l,helperText:l&&"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",onChange:this.handleChangeName})),n.createElement(A.a,{className:t.formRow},n.createElement(W.a,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",multiline:!0,rows:11,variant:"outlined",fullWidth:!0,value:o,onChange:this.handleChangeDescription})),n.createElement(A.a,{className:t.formRow},n.createElement(W.a,{label:"Web-\u0441\u0430\u0439\u0442 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",value:i,fullWidth:!0,onChange:this.handleChangeSite})))),n.createElement(A.a,{className:t.sectionFooter},n.createElement(d.a,{onClick:a,variant:"contained",color:"secondary",endIcon:n.createElement(j.a,null)},"\u0414\u0430\u043b\u0435\u0435")))}}var G=a(229),z=a(187),U=a(75),H=a.n(U);class Z extends n.Component{renderModalBody(){const e=this.props,t=e.classes,a=e.onClose;return n.createElement("div",{className:t.successRegistrationModal},n.createElement(A.a,{className:t.SMSModalBody},n.createElement(H.a,{className:t.SMSModalCloseIcon,onClick:a}),n.createElement("h2",null,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0447\u0442\u043e \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u043d\u0430\u0441!"),n.createElement("p",{className:t.successRegistrationModalText},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur, rem. Animi provident molestiae ut porro consequuntur sit nemo ad rem pariatur quasi minus, sapiente, magni, in exercitationem nam praesentium velit! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur, rem. Animi provident molestiae ut porro consequuntur sit nemo ad rem pariatur quasi minus, sapiente, magni, in exercitationem nam praesentium velit! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur, rem. Animi provident molestiae ut porro consequuntur sit nemo ad rem pariatur quasi minus, sapiente, magni, in exercitationem nam praesentium velit!"),n.createElement(G.a,{direction:"row",justify:"flex-end",className:t.successRegistrationModalCloseButton},n.createElement(d.a,{variant:"contained",color:"secondary",onClick:a},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))))}render(){const e=this.props,t=e.isOpen,a=e.onClose;return n.createElement(z.a,{open:t,onClose:a},this.renderModalBody())}}var J=a(235),Q=a(234),K=a(182),$=a(189),X=a(186),Y=a(183);let ee,te;!function(e){e.WELCOME="WELCOME",e.GENERAL_INFORMATION="GENERAL_INFORMATION",e.CONTACTS="CONTACTS"}(ee||(ee={})),function(e){e["+0"]="+0",e["+7"]="+7",e["+995"]="+995",e["+93"]="+93",e["+358"]="+358",e["+355"]="+355",e["+213"]="+213",e["+1"]="+1",e["+376"]="+376",e["+244"]="+244",e["+54"]="+54",e["+374"]="+374",e["+297"]="+297",e["+247"]="+247",e["+61"]="+61",e["+672"]="+672",e["+43"]="+43",e["+994"]="+994",e["+973"]="+973",e["+880"]="+880",e["+375"]="+375",e["+32"]="+32",e["+501"]="+501",e["+229"]="+229",e["+975"]="+975",e["+591"]="+591",e["+599"]="+599",e["+387"]="+387",e["+267"]="+267",e["+55"]="+55",e["+246"]="+246",e["+673"]="+673",e["+359"]="+359",e["+226"]="+226",e["+95"]="+95",e["+257"]="+257",e["+855"]="+855",e["+237"]="+237",e["+34"]="+34",e["+238"]="+238",e["+236"]="+236",e["+235"]="+235",e["+56"]="+56",e["+86"]="+86",e["+57"]="+57",e["+269"]="+269",e["+242"]="+242",e["+243"]="+243",e["+682"]="+682",e["+506"]="+506",e["+385"]="+385",e["+53"]="+53",e["+357"]="+357",e["+420"]="+420",e["+45"]="+45",e["+253"]="+253",e["+670"]="+670",e["+593"]="+593",e["+20"]="+20",e["+503"]="+503",e["+44"]="+44",e["+240"]="+240",e["+291"]="+291",e["+372"]="+372",e["+251"]="+251",e["+500"]="+500",e["+298"]="+298",e["+691"]="+691",e["+679"]="+679",e["+33"]="+33",e["+262"]="+262",e["+508"]="+508",e["+590"]="+590",e["+594"]="+594",e["+596"]="+596",e["+689"]="+689",e["+241"]="+241",e["+220"]="+220",e["+49"]="+49",e["+233"]="+233",e["+350"]="+350",e["+30"]="+30",e["+299"]="+299",e["+502"]="+502",e["+224"]="+224",e["+245"]="+245",e["+592"]="+592",e["+509"]="+509",e["+504"]="+504",e["+852"]="+852",e["+36"]="+36",e["+354"]="+354",e["+91"]="+91",e["+62"]="+62",e["+98"]="+98",e["+964"]="+964",e["+353"]="+353",e["+972"]="+972",e["+39"]="+39",e["+225"]="+225",e["+47"]="+47",e["+81"]="+81",e["+962"]="+962",e["+254"]="+254",e["+686"]="+686",e["+383"]="+383",e["+965"]="+965",e["+996"]="+996",e["+856"]="+856",e["+371"]="+371",e["+961"]="+961",e["+266"]="+266",e["+231"]="+231",e["+218"]="+218",e["+423"]="+423",e["+370"]="+370",e["+352"]="+352",e["+853"]="+853",e["+261"]="+261",e["+351"]="+351",e["+265"]="+265",e["+60"]="+60",e["+960"]="+960",e["+223"]="+223",e["+356"]="+356",e["+692"]="+692",e["+222"]="+222",e["+230"]="+230",e["+52"]="+52",e["+373"]="+373",e["+377"]="+377",e["+976"]="+976",e["+382"]="+382",e["+212"]="+212",e["+258"]="+258",e["+264"]="+264",e["+674"]="+674",e["+977"]="+977",e["+31"]="+31",e["+687"]="+687",e["+64"]="+64",e["+505"]="+505",e["+227"]="+227",e["+234"]="+234",e["+683"]="+683",e["+850"]="+850",e["+389"]="+389",e["+90"]="+90",e["+968"]="+968",e["+92"]="+92",e["+680"]="+680",e["+970"]="+970",e["+507"]="+507",e["+675"]="+675",e["+595"]="+595",e["+51"]="+51",e["+63"]="+63",e["+48"]="+48",e["+239"]="+239",e["+974"]="+974",e["+40"]="+40",e["+250"]="+250",e["+290"]="+290",e["+685"]="+685",e["+378"]="+378",e["+966"]="+966",e["+221"]="+221",e["+381"]="+381",e["+8"]="+8",e["+248"]="+248",e["+232"]="+232",e["+65"]="+65",e["+421"]="+421",e["+386"]="+386",e["+677"]="+677",e["+252"]="+252",e["+27"]="+27",e["+82"]="+82",e["+211"]="+211",e["+94"]="+94",e["+249"]="+249",e["+597"]="+597",e["+268"]="+268",e["+46"]="+46",e["+41"]="+41",e["+963"]="+963",e["+886"]="+886",e["+992"]="+992",e["+255"]="+255",e["+66"]="+66",e["+228"]="+228",e["+690"]="+690",e["+676"]="+676",e["+216"]="+216",e["+993"]="+993",e["+688"]="+688",e["+256"]="+256",e["+380"]="+380",e["+971"]="+971",e["+598"]="+598",e["+998"]="+998",e["+678"]="+678",e["+58"]="+58",e["+84"]="+84",e["+681"]="+681",e["+967"]="+967",e["+260"]="+260",e["+263"]="+263"}(te||(te={}));class ae extends n.Component{constructor(...e){super(...e),this.state={prefix:te["+7"],phone:""},this.options=Object.keys(te),this.handleChangePrefix=e=>{this.setState({prefix:e.target.value})},this.handleChangePhone=e=>{const t=e.target.value;this.setState({phone:t},()=>{const e=t?"".concat(this.state.prefix).concat(t):"";this.props.onChange(e)})}}renderOptions(){return this.options.map(e=>n.createElement(Q.a,{value:e},e))}render(){const e=this.state,t=e.prefix,a=e.phone,r=this.props,s=r.classes,o=(0,r.isErrorVisible)("phone")&&!a;return n.createElement(K.a,{className:s.contactsPhoneContainer},n.createElement(A.a,{className:s.contactsPhone},n.createElement($.a,{error:o,shrink:!0},"\u041f\u0440\u0435\u0444\u0438\u043a\u0441"),n.createElement(X.a,{labelId:"demo-simple-select-placeholder-label-label",id:"demo-simple-select-placeholder-label",value:t,onChange:this.handleChangePrefix,displayEmpty:!0,className:s.contactsPrefixSelect,error:o},this.renderOptions()),n.createElement(W.a,{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",value:a,fullWidth:!0,onChange:this.handleChangePhone,error:o,type:"number"})),o&&n.createElement(A.a,null,n.createElement(Y.a,{error:!0},"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0442\u0435\u043b\u0435\u0444\u043e\u043d.")))}}function ne(e){return e.replace("+","%2b")}class re extends n.Component{constructor(...e){super(...e),this.state={passwordConfirmation:""},this.handleChangeEmail=e=>{this.props.onChange({email:e.target.value})},this.handleChangePhone=e=>{this.props.onChange({phone:e})},this.handleChangePassword=e=>{this.props.onChange({password:e.target.value})},this.handleChangePasswordConfirmation=e=>{this.setState({passwordConfirmation:e.target.value})}}render(){const e=this.props,t=e.classes,a=e.onNextButtonClick,r=e.form,s=r.email,o=r.facebook,i=r.telegram,l=r.password,c=e.isErrorVisible,m=e.isActionInProgress,h=this.state.passwordConfirmation,u=c("email")&&!s,p=!!h&&!!l&&l!==h,g=c("password")&&!l,S=!!s&&!function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(s);return n.createElement(y.a,{maxWidth:"md",className:t.container},n.createElement(A.a,{className:t.generalInfoFieldsContainer},n.createElement(A.a,{className:t.formColomn},n.createElement(A.a,{className:t.formRow},n.createElement(W.a,{label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",value:s,fullWidth:!0,error:u||S,helperText:u?"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430":S?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b":null,onChange:this.handleChangeEmail})),n.createElement(A.a,{className:t.formRow},n.createElement(W.a,{type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",value:l,fullWidth:!0,onChange:this.handleChangePassword,error:g,helperText:g&&"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u043f\u0430\u0440\u043e\u043b\u044c"})),n.createElement(A.a,{className:t.formRow},n.createElement(W.a,{type:"password",label:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",value:h,fullWidth:!0,error:g||p,onChange:this.handleChangePasswordConfirmation,helperText:g?"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u043f\u0430\u0440\u043e\u043b\u044c":p?"\u041d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442 \u043f\u0430\u0440\u043e\u043b\u0438":""})),n.createElement(A.a,{className:t.formRow},n.createElement(ae,{isErrorVisible:c,classes:t,onChange:this.handleChangePhone})),n.createElement(A.a,{className:t.formRow},n.createElement(W.a,{label:"Facebook",value:o,fullWidth:!0})),n.createElement(A.a,{className:t.formRow},n.createElement(W.a,{label:"Telegram",value:i,fullWidth:!0})))),n.createElement(A.a,{className:t.sectionFooter},n.createElement(d.a,{onClick:a,variant:"contained",color:"secondary",endIcon:!m&&n.createElement(j.a,null),disabled:m,className:t.generalInfoNextButton},m?n.createElement(J.a,{size:"1rem"}):"\u0412\u044b\u0441\u043b\u0430\u0442\u044c SMS-\u043a\u043e\u0434")))}}var se=a(236);class oe extends n.Component{constructor(...e){super(...e),this.state={smsCode:"",remainingSeconds:0,isLoaderSendCodeButtonVisible:!1},this.smsCodeTimerId=void 0,this.handleRequestNewSMSCode=()=>{const e=this.props,t=e.actions,a=ne(e.phone);t.sendRequestToGetSMSCode(a).then(e=>{const t=null===e||void 0===e?void 0:e.smsSessionParameters.nextSendAfterSec;this.setState({remainingSeconds:t||0},()=>{clearInterval(this.smsCodeTimerId),this.setSendCodeInterval()})})},this.handleChangeSMSCode=e=>{this.setState({smsCode:e.target.value})},this.setSendCodeInterval=()=>{this.smsCodeTimerId=setInterval(()=>{let e=this.state.remainingSeconds;e?this.setState({remainingSeconds:--e}):clearInterval(this.smsCodeTimerId)},1e3)},this.handleSendSMSCode=()=>{const e=this.props,t=e.actions,a=e.phone,n=e.onOpenSuccessRegistrationModal,r=e.onClose,s=this.state.smsCode,o=ne(a);this.setState({isLoaderSendCodeButtonVisible:!0}),t.registrationUser(o,s).then(()=>{n(),r()}).finally(()=>{this.setState({isLoaderSendCodeButtonVisible:!1})})}}componentDidMount(){this.setState({remainingSeconds:this.props.remainingSecondsForSMS},this.setSendCodeInterval)}componentWillUnmount(){clearInterval(this.smsCodeTimerId)}renderModalBody(){const e=this.props.classes,t=this.state,a=t.smsCode,r=t.remainingSeconds,s=t.isLoaderSendCodeButtonVisible;return n.createElement("div",{className:e.SMSModal},n.createElement(A.a,{className:e.SMSModalBody},n.createElement("h2",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 SMS-\u043a\u043e\u0434 \u0434\u043b\u044f \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"),n.createElement("p",null,"\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\xa0",n.createElement(se.a,{href:"#",onClick:this.handleRequestNewSMSCode},"\u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c"),"\xa0\u043a\u043e\u0434 \u043c\u043e\u0436\u043d\u043e \u0447\u0435\u0440\u0435\u0437: ",r," \u0441\u0435\u043a\u0443\u043d\u0434."),n.createElement(G.a,{container:!0,spacing:1,alignItems:"flex-end"},n.createElement(G.a,{item:!0},n.createElement(W.a,{value:a,label:"SMS-\u043a\u043e\u0434",onChange:this.handleChangeSMSCode})),n.createElement(G.a,{item:!0},n.createElement(d.a,{variant:"contained",color:"secondary",onClick:this.handleSendSMSCode,disabled:!a||s,className:e.SMSModalSendCodeButton},s?n.createElement(J.a,{size:"1em"}):"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))))}render(){const e=this.props,t=e.isOpen,a=e.onClose;return n.createElement(z.a,{disableBackdropClick:!0,open:t,disableEscapeKeyDown:!0,onClose:a},this.renderModalBody())}}const ie=["name","email","phone","password"];var le=a(77);const ce={name:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",email:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",password:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u043f\u0430\u0440\u043e\u043b\u044c",phone:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0442\u0435\u043b\u0435\u0444\u043e\u043d"};class de extends n.Component{constructor(...e){super(...e),this.state={selectedTab:ee.WELCOME,form:{name:"",email:"",phone:"",password:""},isOpenSMSModal:!1,isOpenSuccessRegistrationModal:!1,validationErrors:[],remainingSecondsForSMS:0,isSendSMSRequestInProgress:!1},this.actions=new f(new T,this.props.enqueueSnackbar,this.props.history),this.isErrorVisible=e=>this.state.validationErrors.includes(e),this.handleChangeSelectedTab=e=>()=>{this.setState({selectedTab:e})},this.handleSelectTab=(e,t)=>{this.handleChangeSelectedTab(t)()},this.handleChangeForm=e=>{this.setState(t=>({form:Object(R.a)(Object(R.a)({},t.form),e)}))},this.handleCloseSMSModal=()=>{this.setState({isOpenSMSModal:!1})},this.handleOpenSMSModal=()=>{this.setState({isOpenSMSModal:!0})},this.handleSendSMSCode=()=>{this.setState({isSendSMSRequestInProgress:!0});const e=ne(this.state.form.phone);this.actions.sendRequestToGetSMSCode(e).then(e=>{const t=null===e||void 0===e?void 0:e.smsSessionParameters.nextSendAfterSec;this.setState({remainingSecondsForSMS:t||0},this.handleOpenSMSModal)}).finally(()=>{this.setState({isSendSMSRequestInProgress:!1})})},this.handleNextButtonClick=e=>()=>{switch(e){case ee.WELCOME:this.handleChangeSelectedTab(ee.GENERAL_INFORMATION)();break;case ee.GENERAL_INFORMATION:this.validateForm(["name"],this.handleChangeSelectedTab(ee.CONTACTS));break;case ee.CONTACTS:this.validateForm(["email","phone","password","name"],this.handleSendSMSCode)}},this.handleOpenSuccessRegistrationModal=()=>{this.setState({isOpenSuccessRegistrationModal:!0})},this.handleCloseSuccessRegistrationModal=()=>{this.setState({isOpenSuccessRegistrationModal:!1},()=>{this.props.history.push({pathname:"/"})})}}validateForm(e,t){const a=this.state,n=a.form,r=a.validationErrors,s=this.props.enqueueSnackbar;let o=[...r];e.forEach(e=>{ie.includes(e)&&(Object(O.isEmpty)(n[e])?!o.includes(e)&&o.push(e):o.includes(e)&&(o=o.filter(t=>t!==e)))});const i=o.filter(t=>e.includes(t));Object(O.isEmpty)(o)||i.forEach(e=>{s(ce[e],{anchorOrigin:C,variant:"error"})}),this.setState({validationErrors:o},Object(O.isEmpty)(i)?t:void 0)}render(){const e=this.state,t=e.selectedTab,a=e.form,r=e.form.phone,s=e.isOpenSMSModal,o=e.remainingSecondsForSMS,i=e.isSendSMSRequestInProgress,c=e.isOpenSuccessRegistrationModal,d=this.props.classes;return n.createElement("div",null,n.createElement(y.a,{maxWidth:"lg",className:d.container},n.createElement(A.a,null,n.createElement(l.a,{variant:"h4",className:d.header},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),n.createElement(B.a,{square:!0,className:d.registrationForm},n.createElement(P.a,{value:t,indicatorColor:"primary",textColor:"primary",onChange:this.handleSelectTab},n.createElement(L.a,{value:ee.WELCOME,label:"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435"}),n.createElement(L.a,{value:ee.GENERAL_INFORMATION,label:"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),n.createElement(L.a,{value:ee.CONTACTS,label:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})),n.createElement(F,{selectedTab:t,index:ee.WELCOME},n.createElement(D,{onNextButtonClick:this.handleNextButtonClick(ee.WELCOME),classes:d})),n.createElement(F,{selectedTab:t,index:ee.GENERAL_INFORMATION},n.createElement(_,{onNextButtonClick:this.handleNextButtonClick(ee.GENERAL_INFORMATION),onChange:this.handleChangeForm,classes:d,form:a,isErrorVisible:this.isErrorVisible})),n.createElement(F,{selectedTab:t,index:ee.CONTACTS},n.createElement(re,{onNextButtonClick:this.handleNextButtonClick(ee.CONTACTS),onChange:this.handleChangeForm,classes:d,form:a,isErrorVisible:this.isErrorVisible,isActionInProgress:i})))),s&&n.createElement(oe,{classes:d,isOpen:s,onClose:this.handleCloseSMSModal,remainingSecondsForSMS:o,phone:r,actions:this.actions,onOpenSuccessRegistrationModal:this.handleOpenSuccessRegistrationModal}),c&&n.createElement(Z,{classes:d,isOpen:c,onClose:this.handleCloseSuccessRegistrationModal}))}}const me=Object(h.f)(de),he=Object(le.b)(me);var ue=Object(c.a)(e=>Object(p.a)({header:Object(R.a)(Object(R.a)({},e.typography.button),{},{fontSize:e.spacing(3),float:"left",margin:e.spacing(5,0)}),container:{display:"flex",flexDirection:"column"},registrationForm:{marginBottom:e.spacing(4)},welcomeHeader:{float:"left",margin:e.spacing(4,0)},welcomeText:{textAlign:"left",width:"80%"},welcomeBody:{display:"flex"},welcomeMainText:{textAlign:"left",marginTop:e.spacing(4)},sectionFooter:{textAlign:"right",marginTop:e.spacing(4)},generalInfoFieldsContainer:{display:"flex",justifyContent:"space-around"},generalInfoLogoInput:{display:"none"},generalInfoLogoInputContainer:{float:"right"},generalInfoPreviewLogoContainer:{margin:"0",justifyContent:"center",position:"relative",width:"200%"},generalInfoPreviewItemContainer:{padding:"0!important",position:"absolute",top:e.spacing(-14),left:e.spacing(9)},generalInfoDropZoneLogoIcon:{color:"#757575"},generalInfoDropzoneText:{fontSize:"1.2em",color:"#757575"},generalInfoDropZoneLogo:{borderWidth:"1px",borderColor:"#757575"},generalInfoNextButton:{width:e.spacing(25),height:e.spacing(5)},formRow:{marginBottom:e.spacing(3),width:e.spacing(38)},formColomn:{width:e.spacing(38),marginRight:e.spacing(8),display:"inline-block"},contactsPhone:{display:"flex",flexDirection:"row"},contactsPhoneContainer:{width:"100%"},contactsPrefixSelect:{marginRight:e.spacing(3)},SMSModal:{position:"absolute",width:e.spacing(50),border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),backgroundColor:e.palette.background.paper,top:"40%",left:"35%"},SMSModalBody:{position:"relative"},SMSModalCloseIcon:{position:"absolute",right:"0",cursor:"pointer"},SMSModalSendCodeButton:{width:e.spacing(15),height:e.spacing(5)},successRegistrationModal:{position:"absolute",width:e.spacing(75),border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),backgroundColor:e.palette.background.paper,top:"30%",left:"30%"},successRegistrationModalText:{margin:e.spacing(7,0)},successRegistrationModalCloseButton:{textAlign:"end"}}),{withTheme:!0})(he),pe=a(123);const ge=e=>{let t=e.children,a=e.enabled,r=Object(pe.a)(e,["children","enabled"]);return n.createElement(h.a,Object.assign({},r,{render:()=>a?t:null}))};let Se;!function(e){e.LIST="LIST",e.ARCHIVE="ARCHIVE",e.STATISTICS="STATISTICS"}(Se||(Se={}));class Ee extends n.Component{constructor(...e){super(...e),this.state={selectedTab:Se.LIST},this.handleChangeSelectedTab=e=>()=>{this.setState({selectedTab:e})},this.handleSelectTab=(e,t)=>{this.handleChangeSelectedTab(t)()}}render(){const e=this.state.selectedTab,t=this.props.classes;return n.createElement(B.a,{square:!0},n.createElement(P.a,{value:e,indicatorColor:"primary",textColor:"primary",onChange:this.handleSelectTab,classes:{flexContainer:t.tabContainer}},n.createElement(L.a,{value:Se.LIST,label:"\u0421\u043f\u0438\u0441\u043e\u043a"}),n.createElement(L.a,{value:Se.ARCHIVE,label:"\u0410\u0440\u0445\u0438\u0432"}),n.createElement(L.a,{value:Se.STATISTICS,label:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"})))}}var Ce=Object(c.a)(e=>Object(p.a)({tabContainer:{display:"inline"}}),{withTheme:!0})(Ee);function be(){return n.createElement(h.c,null,n.createElement(ge,{path:"/registration",enabled:!u()},n.createElement(ue,null)),n.createElement(ge,{path:"/",exact:!0,enabled:u()},n.createElement(Ce,null)))}var ve=a(238),fe=a(233),xe=a(184),Ne=a(239),Me=a(240),Te=a(241);var Oe=a(120),Ie=a.n(Oe),we=a(118),ke=a.n(we),Re=a(119),ye=a.n(Re);const Ae=[{label:"\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f",icon:n.createElement(ke.a,null)},{label:"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0438",icon:n.createElement(ye.a,null)},{label:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",icon:n.createElement(Ie.a,null)}];class Be extends n.Component{renderDrawerBody(){return n.createElement("div",null,n.createElement("div",{className:this.props.classes.toolbar}),n.createElement(ve.a,null),n.createElement(fe.a,null,Ae.map(({label:e,icon:t})=>n.createElement(xe.a,{button:!0,key:e},n.createElement(Ne.a,null,t),n.createElement(Me.a,{primary:e})))))}render(){const e=this.props.classes;return n.createElement("nav",{hidden:!u()},n.createElement(Te.a,{classes:{paper:e.drawerPaper},variant:"permanent",open:!0},this.renderDrawerBody()))}}const Pe=Object(c.a)(e=>Object(p.a)({toolbar:e.mixins.toolbar,drawerPaper:{width:e.spacing(30)}}),{withTheme:!0})(Be);a(175);class Le extends n.Component{render(){return n.createElement("div",{className:"App ".concat(this.props.classes.root)},n.createElement(k,null),n.createElement(Pe,null),n.createElement(be,null))}}const Fe=Object(c.a)(e=>Object(p.a)({root:{flexGrow:1}}),{withTheme:!0})(Le);var qe=Object(h.f)(Fe),je=a(242),De=a(243),We=a(48),Ve=a(121);const _e=Object(Ve.a)({palette:{primary:{main:"#EF6C00",contrastText:"#fff"},secondary:{main:"#7F63F4"},background:{paper:"#FFF"}}}),Ge=document.getElementById("root");Object(s.render)(n.createElement(le.a,null,n.createElement(We.a,null,n.createElement(je.a,null),n.createElement(De.a,{theme:_e},n.createElement(qe,null)))),Ge)}},[[139,1,2]]]);
//# sourceMappingURL=main.12388a00.chunk.js.map